<a class="usa-skipnav" href="#main-content">Skip to main content</a>
<section class="usa-banner" aria-label="Official government website">
    <div class="usa-accordion">
        <header class="usa-banner__header">
            <div class="usa-banner__inner">
                <div class="grid-col-auto">
                    <img
                    class="usa-banner__header-flag"
                    src="./assets/uswds/img/us_flag_small.png"
                    alt="U.S. flag"
                    />
                </div>
                <div class="grid-col-fill tablet:grid-col-auto">
                    <p class="usa-banner__header-text">
                        An official website of the United States government
                    </p>
                    <p class="usa-banner__header-action" aria-hidden="true">
                        Here’s how you know
                    </p>
                </div>
                <button
                class="usa-accordion__button usa-banner__button"
                aria-expanded="false"
                aria-controls="gov-banner"
                >
                <span class="usa-banner__button-text">Here’s how you know</span>
            </button>
        </div>
    </header>
    <div class="usa-banner__content usa-accordion__content" id="gov-banner">
        <div class="grid-row grid-gap-lg">
            <div class="usa-banner__guidance tablet:grid-col-6">
                <img
                class="usa-banner__icon usa-media-block__img"
                src="./assets/uswds/img/icon-dot-gov.svg"
                role="img"
                alt=""
                aria-hidden="true"
                />
                <div class="usa-media-block__body">
                    <p>
                        <strong> Official websites use .gov </strong>
                        <br />
                        A <strong>.gov</strong> website belongs to an official government
                        organization in the United States.
                    </p>
                </div>
            </div>
            <div class="usa-banner__guidance tablet:grid-col-6">
                <img
                class="usa-banner__icon usa-media-block__img"
                src="./assets/uswds/img/icon-https.svg"
                role="img"
                alt=""
                aria-hidden="true"
                />
                <div class="usa-media-block__body">
                    <p>
                        <strong> Secure .gov websites use HTTPS </strong>
                        <br />
                        A <strong>lock</strong> (
                        <span class="icon-lock"
                        ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="52"
                        height="64"
                        viewBox="0 0 52 64"
                        class="usa-banner__lock-image"
                        role="img"
                        aria-labelledby="banner-lock-title banner-lock-description"
                        focusable="false"
                        >
                        <title id="banner-lock-title">Lock</title>
                        <desc id="banner-lock-description">A locked padlock</desc>
                        <path
                        fill="#000000"
                        fill-rule="evenodd"
                        d="M26 0c10.493 0 19 8.507 19 19v9h3a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V32a4 4 0 0 1 4-4h3v-9C7 8.507 15.507 0 26 0zm0 8c-5.979 0-10.843 4.77-10.996 10.712L15 19v9h22v-9c0-6.075-4.925-11-11-11z"
                        /></svg>
                    </span>
                    ) or <strong>https://</strong> means you’ve safely connected to
                    the .gov website. Share sensitive information only on official,
                    secure websites.
                </p>
            </div>
        </div>
    </div>
</div>
</div>
</section>

<div class="usa-overlay"></div>
<header class="usa-header usa-header--basic">
    <div class="usa-nav-container">
        <div class="usa-navbar">
            <div class="usa-logo" id="basic-logo">
                <em class="usa-logo__text">
                    <a href="/jekyll/" title="Blogging">
                        Blogging
                    </a>
                </em>
            </div>
            <button class="usa-menu-btn">Menu</button>
        </div>
        <nav aria-label="Primary navigation" class="usa-nav">
            <button class="usa-nav__close">
                <img src="./assets/uswds/img/usa-icons/close.svg" role="img" alt="Close" />
            </button>
            <ul class="usa-nav__primary usa-accordion">
        <li class="usa-nav__primary-item">
            <a href="/jekyll/about" class="usa-nav__link">
                <span>About</span>
            </a>
        </li>
        <li class="usa-nav__primary-item">
            <a href="/jekyll/categories" class="usa-nav__link">
                <span>Categories</span>
            </a>
        </li>
    </ul>
    
    <div id="search-container">
        <form class="usa-search usa-search--small" role="search">
            <label class="usa-sr-only" for="basic-search-field-en-small">
                Search
            </label>
            <input
            class="usa-input"
            id="search-input"
            type="search"
            name="search"
            />
            <button class="usa-button">
                <span class="usa-sr-only">Search</span>
            </button>
            <span class="ds-dropdown-menu ds-with-1" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; left: 0px; right: auto; display: block;width: 100%;">
                <div class="ds-dataset-1" style="max-height: 400px;overflow: auto;">
                <ul id="results-container" style="padding-left: 15px;list-style-type: none; background-color: #EEE;"></ul>
                </div>
            </span>
        </form>
    </div>
</nav>
</div>
</header>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/underscore@1.13.1/underscore-umd-min.js"></script>
<script src="/simple-jekyll-search.min.js" type="text/javascript"></script>
<!-- <script src="/js/tags.js"></script> -->

<!-- Configuration -->
<script>
    // SimpleJekyllSearch({
    //     searchInput: document.getElementById('search-input'),
    //     resultsContainer: document.getElementById('results-container'),
    //     searchResultTemplate: '<div><a href="{url}"><h3>{title}</h3></a><span>{date}</span></div>',
    //     // json: '/search.json',

    //     templateMiddleware: function(prop, value, template) {
    //         console.log(prop)
    //         // console.log(value)
    //         // console.log(template)
    //     }
    // })
</script>
<script>
    $(document).ready(function() {
        $('input').keyup(_.debounce(function(){
            var $this=$(this);
            //alert( $this.val() );
            var val = $this.val();
            console.log(val);
            var query = {
                query: { match_all: val  }
            };
            query = JSON.stringify(query);
            // $.ajax({url: "http://localhost:3001/api/v1/blogs?blog="+val, 
            $.ajax({url: "https://qa1.reisystems.in:9001/api/v1/blogs?blog="+val, 
                success: function(result) {
                $('#results-container').empty();
                // console.log(result);
                // console.log(result.blogs);
                $.each(result.blogs,function(index,res){
                    // console.log(res._source);
                    var li = `<li> <a href="/jekyll${res._source.url}"><h3>${res._source.title}</h3></a><span>${res._source.date}</span> </li>`;
                    console.log(li);
                    $('#results-container').append(li);
                });
                if(val.length != 0 && result.blogs.length == 0){
                    var li = `<li> <h3>No Result Found</h3></li>`;
                    $('#results-container').append(li);
                } else if(val.length == 0) {
                    $('#results-container').empty();
                }
                
            },error:function(err){
                console.log(err);
            }});
        },500));
    });


        // console.log('ajax');
</script>